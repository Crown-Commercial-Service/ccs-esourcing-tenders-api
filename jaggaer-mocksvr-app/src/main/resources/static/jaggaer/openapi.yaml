openapi: 3.0.0
info:
  title: CCS eSourcing Jaggaer Client API
  version: 0.0.1-SNAPSHOT
servers:
  # Added by API Auto Mocking Plugin
  - description: SwaggerHub API Auto Mocking
    url: https://virtserver.swaggerhub.com/joeraymond-roweit/Jaggaer_Client_API/0.0.1-SNAPSHOT
  - description: Jaaager Pre-Prod Environment
    url: >-
      https://crowncommercialservice-ws02-prep.bravosolution.co.uk/esop/jint/api/public/ja/v1/
tags:
  - name: Projects
    description: Jaggaer Projects API
  - name: Rfx
    description: Jaggaer RFX API
  - name: RfxWorkflows
    description: Jaggaer RFXWORKFLOW API
paths:
  /projects:
    post:
      tags:
        - Projects
      summary: Create Jaggaer Project
      description: Creates a Project in Jaggaer.
      operationId: createProject
      responses:
        '201':
          description: project created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProjectResponse'
        '403':
          description: >-
            The API key and request syntax was valid but the server is refusing
            to complete the request. This can happen if you are trying to read
            or write to objects or properties that you do not have access to.
          content:
            application/vnd.api+json:
              schema:
                properties:
                  error:
                    type: string
                    example: You are not authorized to access this page.
                    default: You are not authorized to access this page.
        '404':
          description: >-
            Not found. Either the request method and path supplied do not
            specify a known action in the API, or the object specified by the
            request does not exist.
          content:
            application/vnd.api+json:
              schema:
                properties:
                  error:
                    type: string
                    example: The resource you were looking for could not be found.
                    default: The resource you were looking for could not be found.
        default:
          description: successful operation
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Projects'
        description: Created sourcing object
        required: true
  /rfxs/:
    get:
      parameters:
        - in: query
          name: flt
          required: true
          schema:
            type: string
            example: rfxReferenceCode==itt_599
      tags:
        - Rfx
      summary: Search for RFX
      description: Retrieve RFx details.
      operationId: getRFX
      responses:
        '201':
          description: get rfx
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RfxGetResponse'
        '403':
          description: >-
            The API key and request syntax was valid but the server is refusing
            to complete the request. This can happen if you are trying to read
            or write to objects or properties that you do not have access to.
          content:
            application/vnd.api+json:
              schema:
                properties:
                  error:
                    type: string
                    example: You are not authorized to access this page.
                    default: You are not authorized to access this page.
        '404':
          description: >-
            Not found. Either the request method and path supplied do not
            specify a known action in the API, or the object specified by the
            request does not exist.
          content:
            application/vnd.api+json:
              schema:
                properties:
                  error:
                    type: string
                    example: The resource you were looking for could not be found.
                    default: The resource you were looking for could not be found.
        default:
          description: successful operation
    post:
      tags:
        - Rfx
      summary: Create an RFX for invitiation linked to a project
      description: Creates a CCS RFX for invitiation linked to a project.
      operationId: createRFX
      responses:
        '201':
          description: rfx created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RfxResponse'
        '403':
          description: >-
            The API key and request syntax was valid but the server is refusing
            to complete the request. This can happen if you are trying to read
            or write to objects or properties that you do not have access to.
          content:
            application/vnd.api+json:
              schema:
                properties:
                  error:
                    type: string
                    example: You are not authorized to access this page.
                    default: You are not authorized to access this page.
        '404':
          description: >-
            Not found. Either the request method and path supplied do not
            specify a known action in the API, or the object specified by the
            request does not exist.
          content:
            application/vnd.api+json:
              schema:
                properties:
                  error:
                    type: string
                    example: The resource you were looking for could not be found.
                    default: The resource you were looking for could not be found.
        default:
          description: successful operation
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Rfxs'
        description: Created rfx object
        required: true
  /rfxworkflows/invalidate:
    post:
      tags:
        - RfxWorkflows
      summary: Invalidate an RFX
      description: Invalidates a CCS RFX.
      operationId: invalidateRFX
      responses:
        '201':
          description: rfx invalidated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RfxInvalidationResponse'
        '403':
          description: >-
            The API key and request syntax was valid but the server is refusing
            to complete the request. This can happen if you are trying to read
            or write to objects or properties that you do not have access to.
          content:
            application/vnd.api+json:
              schema:
                properties:
                  error:
                    type: string
                    example: You are not authorized to access this page.
                    default: You are not authorized to access this page.
        '404':
          description: >-
            Not found. Either the request method and path supplied do not
            specify a known action in the API, or the object specified by the
            request does not exist.
          content:
            application/vnd.api+json:
              schema:
                properties:
                  error:
                    type: string
                    example: The resource you were looking for could not be found.
                    default: The resource you were looking for could not be found.
        default:
          description: successful operation
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RfxInvalidate'
        description: Invalidate rfx object
        required: true
  /rfxworkflows/delete:
    post:
      tags:
        - RfxWorkflows
      summary: Delete an RFX
      description: Deletes a CCS RFX.
      operationId: deleteRFX
      responses:
        '201':
          description: rfx deleted
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RfxInvalidationResponse'
        '403':
          description: >-
            The API key and request syntax was valid but the server is refusing
            to complete the request. This can happen if you are trying to read
            or write to objects or properties that you do not have access to.
          content:
            application/vnd.api+json:
              schema:
                properties:
                  error:
                    type: string
                    example: You are not authorized to access this page.
                    default: You are not authorized to access this page.
        '404':
          description: >-
            Not found. Either the request method and path supplied do not
            specify a known action in the API, or the object specified by the
            request does not exist.
          content:
            application/vnd.api+json:
              schema:
                properties:
                  error:
                    type: string
                    example: The resource you were looking for could not be found.
                    default: The resource you were looking for could not be found.
        default:
          description: successful operation
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RfxInvalidate'
        description: Delete rfx object
        required: true
components:
  schemas:
    Projects:
      type: object
      required:
        - operationCode
        - project
      properties:
        operationCode:
          type: string
          example: CREATEUPDATE
        project:
          $ref: '#/components/schemas/Project'
    Project:
      type: object
      required:
        - tender
      properties:
        tender:
          $ref: '#/components/schemas/Tender'
    Tender:
      type: object
      required:
        - title
        - buyerCompany
        - projectOwner
        - additionalInfoList
      properties:
        tenderReferenceCode:
          type: string
          example: project_1078
        title:
          type: string
          example: Test Project 123
        buyerCompany:
          $ref: '#/components/schemas/BuyerCompany'
        projectOwner:
          $ref: '#/components/schemas/ProjectOwner'
        sourceTemplateReferenceCode:
          type: string
          example: project_609
        projectType:
          type: string
          example: CCS_PROJ
        additionalInfoList:
          $ref: '#/components/schemas/AdditionalInfoList'
    BuyerCompany:
      type: object
      required:
        - id
      properties:
        id:
          type: integer
          example: 51435
        code:
          type: string
          example: N/A
        name:
          type: string
          example: Crown Commercial Service
    ProjectOwner:
      type: object
      required:
        - login
      properties:
        login:
          type: string
          example: user@crowncommercial.gov.uk
    OwnerUser:
      type: object
      required:
        - login
      properties:
        id:
          type: integer
          example: 89512
        name:
          type: string
          example: SRO- CCS
        login:
          type: string
          example: sro-ccs
    AdditionalInfoList:
      type: object
      properties:
        additionalInfo:
          type: array
          items:
            $ref: '#/components/schemas/AdditionalInfoItem'
    AdditionalInfoItem:
      type: object
      properties:
        name:
          type: string
          example: Procurement Reference
        values:
          $ref: '#/components/schemas/Values'
    Values:
      type: object
      properties:
        value:
          type: array
          items:
            $ref: '#/components/schemas/ValueItem'
    ValueItem:
      type: object
      properties:
        value:
          type: object
          example: '324233324'
    Rfxs:
      type: object
      required:
        - operationCode
        - rfx
      properties:
        operationCode:
          type: string
          example: CREATEUPDATE
        rfx:
          $ref: '#/components/schemas/Rfx'
    Rfx:
      type: object
      required:
        - rfxSetting
        - rfxAdditionalInfoList
      properties:
        rfxSetting:
          $ref: '#/components/schemas/RfxSetting'
        rfxAdditionalInfoList:
          $ref: '#/components/schemas/RfxAdditionalInfoList'
    RfxSetting:
      type: object
      required:
        - tenderReferenceCode
        - shortDescription
        - buyerCompany
        - ownerUser
        - value
        - publishDate
        - closeDate
      properties:
        rfxId:
          type: string
          example: rfq_49410
        rfxReferenceCode:
          type: string
          example: itt_597
        rfiFlag:
          type: integer
          example: 1
        dummyFlag:
          type: integer
          example: 0
        statusCode:
          type: integer
          example: 0
        status:
          type: string
          example: To be Published
        tenderCode:
          type: string
          example: tender_40990
        tenderReferenceCode:
          type: string
          example: projetct_1002
        templateId:
          type: string
          example: rfq_47693
        templateReferenceCode:
          type: string
          example: itt_543
        templateTitle:
          type: string
          example: JAGGAER_Scale Test_Template
        shortDescription:
          type: string
          example: ITT Test 03122019 Attempt 3
        longDescription:
          type: string
          example:
        archiveStatus:
          type: integer
          example: 0
        buyerCompany:
          $ref: '#/components/schemas/BuyerCompany'
        ownerUser:
          $ref: '#/components/schemas/OwnerUser'
        divisionName:
          type: string
          example: Division
        divisionId:
          type: integer
          example: 7173496
        supplierAccess:
          type: string
          example: RFQ_TYPE_PRIVATE_WITH_ANSWER
        offersOpeningCriteria:
          type: string
          example: BLIND_PARALLEL
        value:
          type: number
          format: float
          example: 9000.0
        valueCurrency:
          type: string
          example: GBP
        bidsCurrency:
          type: string
          example: GBP
        envelopeDigitalSignature:
          type: string
          example: NO
        rankingStrategy:
          type: string
          example: BEST_TECHNICAL_SCORE
        techScoreWeight:
          type: number
          format: float
          example: 100.0
        comScoreWeight:
          type: number
          format: float
          example: 0.0
        numInvolvedSuppliers:
          type: integer
          example: 0
        numRespondedSuppliers:
          type: integer
          example: 0
        numExcludedSuppliers:
          type: integer
          example: 0
        numAwardedSuppliers:
          type: integer
          example: 0
        qualEvaluationTeamSize:
          type: integer
          example: 0
        techEvaluationTeamSize:
          type: integer
          example: 0
        commEvaluationTeamSize:
          type: integer
          example: 0
        qualEnvStatus:
          type: integer
          example: 0
        techEnvStatus:
          type: integer
          example: 1
        commEnvStatus:
          type: integer
          example: 0
        lastUpdate:
          type: string
          example: '2021-02-08T12:07:17.000Z'
        autopublish:
          type: integer
          example: 0
        creationDate:
          type: string
          example: '2021-02-08T12:07:16.000Z'
        publishDate:
          type: string
          example: '2019-08-20T13:54:32.000+00:00'
        closeDate:
          type: string
          example: '2019-08-30T13:54:32.000+00:00'
        awardingStrategy:
          type: string
          example: NONE
        awardingLevel:
          type: string
          example: OVERALL
        awardingSource:
          type: string
          example: PRICE
        rfxType:
          type: string
          example: STANDARD_ITT
        rfxTypeDescription:
          type: string
          example: Standard ITT
        qualEnvelopeDigitalSignature:
          type: string
          example: NO
        techEnvelopeDigitalSignature:
          type: string
          example: NO
        commEnvelopeDigitalSignature:
          type: string
          example: NO
        tcoVisibleToSuppliers:
          type: integer
          example: 0
        consortiumAvailable:
          type: integer
          example: 0
        defaultScoringCalcCriteria:
          type: string
          example: AUTOMATIC
        scoringMethod:
          type: string
          example: W
        commEnvScoringMode:
          type: integer
          example: 0
        hideValueFromSupplier:
          type: integer
          example: 1
        reservedPrice:
          type: number
          format: float
          example: 0.0
        enableOpeningCommittees:
          type: integer
          example: 0
        maxScoreVisibleToSuppliers:
          type: integer
          example: 0
        numReOpenRounds:
          type: integer
          example: 0
        numUltimateOffers:
          type: integer
          example: 0
        multicurrencyBids:
          type: integer
          example: 0
        multicurrencyTCO:
          type: integer
          example: 0
        visibilityEGComments:
          type: integer
          example: 1
    RfxAdditionalInfoList:
      type: object
      properties:
        additionalInfo:
          type: array
          items:
            $ref: '#/components/schemas/RfxAdditionalInfoItem'
    RfxAdditionalInfoItem:
      type: object
      properties:
        name:
          type: string
          example: Procurement Route
        values:
          $ref: '#/components/schemas/RfxValues'
    RfxValues:
      type: object
      properties:
        value:
          type: array
          items:
            $ref: '#/components/schemas/RfxValueItem'
    RfxValueItem:
      type: object
      properties:
        value:
          type: object
          example: Open Market
    RfxGetResponse:
      type: object
      properties:
        returnCode:
          type: integer
          example: 0
        returnMessage:
          type: string
          example: OK
        totRecords:
          type: integer
          example: 1
        returnedRecords:
          type: integer
          example: 1
        startAt:
          type: integer
          example: 1
        dataList:
          type: object
          properties:
            rfx:
              type: array
              items:
                $ref: '#/components/schemas/RfxList'
    RfxList:
      type: object
      properties:
        rfxSetting:
          $ref: '#/components/schemas/RfxSetting'
    RfxResponse:
      type: object
      properties:
        returnCode:
          type: integer
          example: 0
        returnMessage:
          type: string
          example: OK
        rfxId:
          type: string
          example: rfq_47310
        rfxReferenceCode:
          type: string
          example: itt_534
    ProjectResponse:
      type: object
      properties:
        returnCode:
          type: integer
          example: 0
        returnMessage:
          type: string
          example: OK
        tenderCode:
          type: string
          example: tender_39483
        tenderReferenceCode:
          type: string
          example: project_1002
    RfxInvalidate:
      type: object
      required:
        - rfxReferenceCode
        - operatorUser
      properties:
        rfxReferenceCode:
          type: string
          example: itt_725
        operatorUser:
          $ref: '#/components/schemas/OperatorUser'
    OperatorUser:
      type: object
      required:
        - id
      properties:
        id:
          type: integer
          example: 89512
    RfxInvalidationResponse:
      type: object
      properties:
        returnCode:
          type: integer
          example: 0
        returnMessage:
          type: string
          example: OK
        rfxId:
          type: string
          example: rfq_50487
        rfxReferenceCode:
          type: string
          example: itt_725
        initialStatusCode:
          type: integer
          example: 300
        initialStatus:
          type: string
          example: Running
        finalStatusCode:
          type: integer
          example: 1000
        finalStatus:
          type: string
          example: Invalidated
        reopenRound:
          type: integer
          example: 0
        numInvolvedSuppliers:
          type: integer
          example: 0
        numRespondedSuppliers:
          type: integer
          example: 0
        numExcludedSuppliers:
          type: integer
          example: 0
        qualEnvStatus:
          type: integer
          example: 0
        techEnvStatus:
          type: integer
          example: 1
        commEnvStatus:
          type: integer
          example: 0
        publishDate:
          type: string
          example: "2021-03-12T09:01:40.000Z"
        closeDate:
          type: string
          example: "2021-05-28T11:00:00.000Z"
  securitySchemes:
    oAuthClientCredentials:
      type: oauth2
      flows:
        clientCredentials:
          tokenUrl: >-
            https://crowncommercialservice-ws02-prep.bravosolution.co.uk/esop/jint/api/public/v1/tokens/
          scopes: {}
security:
  - oAuthClientCredentials: []